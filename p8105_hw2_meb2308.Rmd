---
title: "P8105 Homework 2 Solutions"
author: Meghan Bellerose,
date: September 24, 2020
output: github_document
---

This homework uses r version 4.0.2 and r studio version 1.3.1073.

```{r, message = FALSE}
library(tidyverse)
library(readxl)
```


# Problem 1

### Read and clean Mr. Trash Wheel data

First, I will read the Mr. Trash Wheel Excel data sheet, create snake format variable names, and omit non-data entries, including rows and columns with notes and figures, as well as entries that are unrelated to the dumpster data. 

I'll also round the number of sports balls to the nearest integer and convert the results to an integer variable.

```{r}
trashwheel_df =
  read_xlsx("./data/trash_wheel.xlsx",
  sheet = "Mr. Trash Wheel",
  range = cell_cols("A:N")) %>%
  janitor:: clean_names() %>%
  drop_na(dumpster) %>%
  mutate(
    sports_balls = round(sports_balls),
    sports_balls = as.integer(sports_balls)
  ) 
```

### Read and clean precipitation data 

Next, I'll read and clean the precipitation data for 2017 and 2018, omitting rows without data and adding a variable for year. 

```{r}
precip_2018 = 
  read_excel("./data/trash_wheel.xlsx",
      sheet = "2018 Precipitation",
      skip = 1
  ) %>%
  janitor:: clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2018) %>%
  relocate(year)

precip_2017 = 
  read_excel("./data/trash_wheel.xlsx",
      sheet = "2017 Precipitation",
      skip = 1
  ) %>%
  janitor:: clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2017) %>%
  relocate(year)
```

Now I will combine the precipitation datasets and convert month to a character variable using month.name. 

```{r}
precip_df = 
  bind_rows(precip_2017, precip_2018) %>%
  mutate(month = month.name[month])
```

The square bracket vector is not ideal, so we can create a month data frame instead.

```{r}
month_df = 
  tibble(
    month = 1:12,
    month_name = month.name
  )

precip_df = 
  bind_rows(precip_2017, precip_2018)

left_join(precip_df, month_df, by = "month")
```

# Problem 2


# Problem 3
